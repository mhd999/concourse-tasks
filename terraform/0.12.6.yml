platform: linux

image_resource:
  type: docker-image
  source:
    repository: 987227049932.dkr.ecr.eu-west-1.amazonaws.com/hashicorp/terraform
    tag: "full"

inputs:
- name: source
- name: common-tasks

outputs:
- name: terraform

caches:
- path: terraform-cache

params:
  command:
  command_params:  
  directories:
  cache: "false"
  lock_timeout: 5m
  access_key:
  secret_key:
  session_token:
  github_access_token:
  github_private_key:

run:
  path: common-tasks/terraform/terraform-0.12.sh
